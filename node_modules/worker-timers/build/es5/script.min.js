!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.workerTimers=a.workerTimers||{})}(this,function(a){"use strict";var b=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,c=function(a){for(var c=Math.round(Math.random()*b);a.has(c);)c=Math.round(Math.random()*b);return c},d=function(a){var b=new Map,d=new Map,e=new Worker(a);e.addEventListener("message",function(a){var c=a.data,e=c.id,f=c.type;if("interval"===f){var g=b.get(e);g&&g()}else if("timeout"===f){var h=d.get(e);h&&(h(),d.delete(e))}});var f=function(a){b.delete(a),e.postMessage({action:"clear",id:a,type:"interval"})},g=function(a){d.delete(a),e.postMessage({action:"clear",id:a,type:"timeout"})},h=function(a,d){var f=c(b);return b.set(f,function(){a(),e.postMessage({action:"set",delay:d,id:f,now:performance.now(),type:"interval"})}),e.postMessage({action:"set",delay:d,id:f,now:performance.now(),type:"interval"}),f},i=function(a,b){var f=c(d);return d.set(f,a),e.postMessage({action:"set",delay:b,id:f,now:performance.now(),type:"timeout"}),f};return{clearInterval:f,clearTimeout:g,setInterval:h,setTimeout:i}},e='!function(){"use strict";var a=new Map,b=new Map,c=function a(b,c,d,e){var f="performance"in self?performance.now():Date.now();f>d?postMessage({id:c,type:e}):b.set(c,setTimeout(a,d-f,b,c,d,e))};addEventListener("message",function(d){var e=d.data,f=e.action,g=e.delay,h=e.id,i=e.now,j=e.type;if("clear"===f){var k=void 0;"interval"===j?(k=a.get(h),void 0!==k&&(clearTimeout(k),a.delete(h))):"timeout"===j&&(k=b.get(h),void 0!==k&&(clearTimeout(k),b.delete(h)))}else if("set"===f){var l=void 0;if("performance"in self){var m=performance.now(),n=Math.max(0,m-i);g-=n,l=m}else l=Date.now();var o=l+g;"interval"===j?a.set(h,setTimeout(c,g,a,h,o,j)):"timeout"===j&&b.set(h,setTimeout(c,g,b,h,o,j))}})}();',f=new Blob([e],{type:"application/javascript"}),g=URL.createObjectURL(f),h=d(g),i=h.clearInterval,j=h.clearTimeout,k=h.setInterval,l=h.setTimeout;a.clearInterval=i,a.clearTimeout=j,a.setInterval=k,a.setTimeout=l,Object.defineProperty(a,"__esModule",{value:!0})});
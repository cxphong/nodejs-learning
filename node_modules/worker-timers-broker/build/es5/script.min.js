!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.workerTimersBroker=a.workerTimersBroker||{})}(this,function(a){"use strict";var b=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,c=function(a){for(var c=Math.round(Math.random()*b);a.has(c);)c=Math.round(Math.random()*b);return c},d=function(a){var b=new Map,d=new Map,e=new Worker(a);e.addEventListener("message",function(a){var c=a.data,e=c.id,f=c.type;if("interval"===f){var g=b.get(e);g&&g()}else if("timeout"===f){var h=d.get(e);h&&(h(),d.delete(e))}});var f=function(a){b.delete(a),e.postMessage({action:"clear",id:a,type:"interval"})},g=function(a){d.delete(a),e.postMessage({action:"clear",id:a,type:"timeout"})},h=function(a,d){var f=c(b);return b.set(f,function(){a(),e.postMessage({action:"set",delay:d,id:f,now:performance.now(),type:"interval"})}),e.postMessage({action:"set",delay:d,id:f,now:performance.now(),type:"interval"}),f},i=function(a,b){var f=c(d);return d.set(f,a),e.postMessage({action:"set",delay:b,id:f,now:performance.now(),type:"timeout"}),f};return{clearInterval:f,clearTimeout:g,setInterval:h,setTimeout:i}};a.load=d,Object.defineProperty(a,"__esModule",{value:!0})});